(this.webpackJsonpbuildmancer=this.webpackJsonpbuildmancer||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(88),i=(a(106),a(11)),o=a(7),s=(a(107),a(108),a(18)),u=a(1),l=a(137),b=a(131),d=a(138),j=a(92),f=a(132),p=a(141),O=a(133);var m=a(5),h=a(21),y=a(17),g=a(15),v=a(6),x=a(22),k=a(0),S=Object(y.c)(["debug","basic"]),M=function(e){var t=e.isSelected,a=e.section,r=e.options,c=e.setField,i=function(e){var t=Object(n.useRef)(null);return[function(){return t.current.scrollIntoView(e)},t]}({behavior:"smooth",block:"start"}),s=Object(o.a)(i,2),u=s[0],l=s[1];return Object(k.jsxs)(f.a,{children:[Object(k.jsx)(p.a.Title,{children:a}),Object(x.a)(r,4).map((function(e,n){return Object(k.jsx)(O.a,{size:"lg",className:"mb-2",children:e.map((function(e){return Object(k.jsx)(j.a,{name:a,id:"".concat(e.display),variant:t(e)?"primary":"secondary",onClick:function(){c(e),u()},children:e.display},e.display)}))},n)})),Object(k.jsx)("div",{id:"".concat(a,"-scroll"),ref:l})]})},w=function(e){var t=e.onSave,a=Object(v.i)(),n=Object(o.a)(a,2),c=n[0],i=n[1],f=r.a.useState(c.build),p=Object(o.a)(f,2),O=p[0],y=p[1],x=r.a.useState(c.lore),w=Object(o.a)(x,2),A=w[0],E=w[1],P=function(e){return Object(k.jsx)("b",{children:O[e].display})},B=Object(g.a)(Object(u.a)(Object(u.a)({},c),{},{build:O}),i,[Object(v.g)()[1]])[0];return Object(k.jsx)(l.a,{onSubmit:function(e){e.preventDefault(),t({id:"p-1",lore:A,build:O},i)},children:Object(k.jsxs)(b.a,{fluid:!0,children:[Object(m.c)(h.a).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return!S.has(a)&&Object(k.jsx)(M,{setField:function(e){return function(e,t){y(Object(u.a)(Object(u.a)({},O),{},Object(s.a)({},e,t)))}(a,e)},section:a,options:Object(m.d)(n),isSelected:function(e){return O[a].display===e.display}},a)})),Object(k.jsx)(d.a,{fixed:"bottom",bg:"dark",variant:"dark",style:{maxHeight:"115px"},children:Object(k.jsxs)(b.a,{children:[Object(k.jsxs)(d.a.Text,{children:["You are"," ",Object(k.jsx)("i",{onClick:function(){return E((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:Object(v.h)()})}))},children:A.name}),", the ",P("skill")," ",P("class")," ",P("charm"),Object(k.jsx)("br",{}),"who wields a ",P("weapon")," and a ",P("offhand"),Object(k.jsx)("br",{}),"and wears ",P("armor")," with ",P("headgear")," and"," ",P("footwear")]}),Object(k.jsxs)(d.a.Text,{children:[B.hp.current," \u2764",Object(k.jsx)("br",{}),B.stamina.current," \ud83d\udcaa (",B.staminaPerTurn.current>=0&&"+",B.staminaPerTurn.current,")",Object(k.jsx)("br",{}),"Attack ",B.attack.current," | Defence"," ",B.defence.current," | Speed ",B.speed.current]}),Object(k.jsx)(j.a,{type:"submit",children:"This is me!"})]})})]})})},A=function(e){var t=e.player,a=e.onSave,n=r.a.useState([]),c=Object(o.a)(n,2),s=c[0],u=c[1],f=function(e){return Object(k.jsx)("b",{children:t[0].build[e].display})};return Object(k.jsxs)(l.a,{onSubmit:function(e){e.preventDefault();var t=s.map((function(e){return e[0]})),n=s.map((function(e){return e[1]}));a(t,n)},children:[Object(k.jsx)(b.a,{fluid:!0,children:Object(k.jsx)(O.a,{size:"lg",className:"mb-2",children:Object(m.d)(h.b).map((function(e){return Object(k.jsx)(j.a,{disabled:s.length>4,onClick:function(){return u((function(t){return[].concat(Object(i.a)(t),[e])}))},children:e[0].lore.name},e[0].lore.name)}))})}),s.length>0&&Object(k.jsx)(d.a,{fixed:"bottom",bg:"dark",variant:"dark",style:{marginBottom:"100px"},children:Object(k.jsx)(b.a,{fluid:!0,children:Object(k.jsx)(O.a,{size:"sm",className:"mb-2",children:s.map((function(e,t){return Object(k.jsx)(j.a,{onClick:function(){return u((function(t){var a=!1;return t.filter((function(t){return a||t[0].lore.name!==e[0].lore.name||!(a=!0)}))}))},children:e[0].lore.name},"".concat(e[0].lore.name,"-").concat(t))}))})})}),Object(k.jsx)(d.a,{fixed:"bottom",bg:"dark",variant:"dark",style:{maxHeight:"100px"},children:Object(k.jsxs)(b.a,{children:[Object(k.jsxs)(d.a.Text,{children:["You are ",Object(k.jsx)("i",{children:t[0].lore.name}),", the ",f("skill")," ",f("class")," ",f("charm"),Object(k.jsx)("br",{}),t[1].hp.current," \u2764",Object(k.jsx)("br",{}),t[1].stamina.current," \ud83d\udcaa (",t[1].staminaPerTurn.current>=0&&"+",t[1].staminaPerTurn.current,")",Object(k.jsx)("br",{}),"Attack ",t[1].attack.current," | Defence ",t[1].defence.current," | Speed"," ",t[1].speed.current]}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(j.a,{disabled:s.length<0||s.length>4,onClick:function(e){return u((function(e){return[].concat(Object(i.a)(e),[Object(v.g)()])}))},children:"Add Random"}),Object(k.jsx)(j.a,{type:"submit",disabled:s.length<1||s.length>5,children:"To Battle!"})]})]})})]})},E=a(142),P=a(85),B=function(e){var t=e.title,a=e.states,n=e.onClick;return Object(k.jsxs)(b.a,{fluid:!0,style:{marginBottom:"105px"},children:[Object(k.jsx)(f.a,{className:"g-2",children:Object(k.jsx)(p.a.Title,{children:t})}),a.map((function(e){return Object(k.jsx)(f.a,{className:"g-2",children:Object(k.jsx)(j.a,{size:"lg",className:"mb-2",variant:"primary",onClick:function(){n(e)},children:e},e)},e)}))]})};function T(e){function t(e,t){if((e=e||{}).mutationFunction=e.mutationFunction||t.mutationFunction,e.crossoverFunction=e.crossoverFunction||t.crossoverFunction,e.fitnessFunction=e.fitnessFunction||t.fitnessFunction,e.doesABeatBFunction=e.doesABeatBFunction||t.doesABeatBFunction,e.population=e.population||t.population,e.population.length<=0)throw Error("population must be an array and contain at least 1 phenotypes");if(e.populationSize=e.populationSize||t.populationSize,e.populationSize<=0)throw Error("populationSize must be greater than 0");return e}var a=t(e,{mutationFunction:function(e){return e},crossoverFunction:function(e,t){return[e,t]},fitnessFunction:function(e){return 0},doesABeatBFunction:void 0,population:[],populationSize:100});function n(e){return JSON.parse(JSON.stringify(e))}function r(e){return a.mutationFunction(n(e))}function c(e){e=n(e);var t=a.population[Math.floor(Math.random()*a.population.length)];return t=n(t),a.crossoverFunction(e,t)[0]}return{evolve:function(e){return e&&(a=t(e,a)),function(){for(var e=a.population.length;a.population.length<a.populationSize;){var t=Math.floor(Math.random()*e);a.population.push(r(n(a.population[Math.floor(t)])))}}(),function(){for(var e=0;e<a.population.length;e++){var t=Math.floor(Math.random()*a.population.length),n=a.population[t];a.population[t]=a.population[e],a.population[e]=n}}(),function(){for(var e,t,n=[],i=0;i<a.population.length-1;i+=2){var o=a.population[i],s=a.population[i+1];n.push(o),e=o,t=s,(a.doesABeatBFunction?a.doesABeatBFunction(e,t):a.fitnessFunction(e)>=a.fitnessFunction(t))?Math.random()<.5?n.push(r(o)):n.push(c(o)):n.push(s)}a.population=n}(),this},best:function(){var e=this.scoredPopulation();return n(e.reduce((function(e,t){return e.score>=t.score?e:t}),e[0]).phenotype)},bestScore:function(){return a.fitnessFunction(this.best())},population:function(){return n(this.config().population)},scoredPopulation:function(){return this.population().map((function(e){return{phenotype:n(e),score:a.fitnessFunction(e)}}))},config:function(){return n(a)},clone:function(e){return T(t(e,t(this.config(),a)))}}}var D=a(42),C=a.n(D),R={playerSeed:"Miau",weights:{monster:1e3,player:0,turn:-.1,stamina:0},debug:!1};function F(e,t,a,n){for(var r=Object(u.a)(Object(u.a)({},R),n),c=new C.a(r.playerSeed),i=function(e){var t=Object(g.c)(e),a=t.player.hp.max,n=t.player.stamina.max;return{startPlayerHealth:a,startMonsterHealth:t.enemies.reduce((function(e,t){return e+t.hp.max}),0),startPlayerStamina:n}}(e),s={mutationFunction:function(t){var a=Object(g.i)(t),n=a.enemies.reduce((function(e,t){return e+t.hp.current}),0);if(0===a.player.hp.current||0===n||t.states.length>=t.turns)return t;for(var r=t;6===c.d6()||(null!==(i=null===(s=a.enemies[a.target])||void 0===s?void 0:s.hp.current)&&void 0!==i?i:0)<=0;){var i,s;r=Object(g.l)(r,c.natural({min:0,max:a.enemies.length-1}))}var u=Object(g.i)(r),l=Object(g.g)(e.player,u.inventory),b=l.map((function(e,t){return[e,t]})).filter((function(e){var t=Object(o.a)(e,2),a=t[0];t[1];return a.stamina>u.player.stamina.current})).map((function(e){var t=Object(o.a)(e,2);t[0];return t[1]}));return r=Object(g.b)(r,c.natural({min:0,max:l.length-1,exclude:b}))},fitnessFunction:function(e){return function(e,t,a){var n=a.startPlayerHealth,r=a.startMonsterHealth,c=a.startPlayerStamina,i=Object(g.i)(t),o=i.enemies.reduce((function(e,t){return e+t.hp.current}),0),s=i.player.hp.current,u=i.player.stamina.current,l=Math.max(0,(r-o)/r),b=s/n,d=(t.turns-t.states.length)/t.turns,j=u/c,f=l*e.weights.monster+b*e.weights.player+d*e.weights.turn+j*e.weights.stamina;return(e.debug||f<0)&&console.log({player:t.player.lore.name,encounter:JSON.stringify(t.enemies.map((function(e){return e.lore.name}))),monsterHealth:o,playerHealth:s,turns:t.states.length,fitness:f,monsterKillingFitness:l,playerAlivenessFitness:b,staminaFitness:j,killSpeedFitness:d,weights:e.weights},null,2),f}(r,e,i)},population:[e],populationSize:a},l=new T(s),b=0;b<t;b++)l=l.evolve();return Object(y.b)(l.scoredPopulation()).sortBy((function(e){return 1e3/e.score})).toArray()}new Set(["debug","basic"]);var L=a(90),N=a(135),H=a(140),I=a(136),z=a(99),G=function(e){var t,a=e.enemy,n=e.enemyStats,r=e.isSelected,c=e.onSelect,i=e.latestAttack,s=e.canAct,l=e.hotkey;return Object(k.jsxs)(p.a,{bg:r?"info":void 0,children:[s&&Object(k.jsxs)(j.a,{disabled:r,onClick:c,children:["[",Object(k.jsx)("i",{children:l.toUpperCase()}),"]"]}),Object(k.jsxs)(p.a.Body,{children:[Object(k.jsxs)(p.a.Title,{children:[a.lore.name," ",n.hp.current>0?"":Object(k.jsx)("b",{children:"\ud83d\udc80DEAD\ud83d\udc80"})]}),Object(k.jsxs)(p.a.Text,{children:["\u2764:",n.hp.current," \ud83c\udff9:",n.distance,Object(k.jsx)("br",{}),"A ",n.attack.current," | D ",n.defence.current," | S"," ",n.speed.current,n.status.bleed.turns>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),n.status.bleed.turns," \ud83e\ude78"]}),i&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),"Latest attack: ",i]}),Object(k.jsx)("br",{}),"Next attack prediction:",(t=a.rolls[n.distance].map((function(e){return a.effects[e]})),Object(y.b)(t).countBy((function(e){return e.display})).toArray().map((function(e,a){var n=Object(o.a)(e,2),r=n[0],c=n[1],i=t.find((function(e){return e.display===r})),s=i.range,l=i.priority,b=i.tooltip;return Object(k.jsx)(I.a,{placement:"top",delay:{show:100,hide:250},overlay:function(e){return Object(k.jsxs)(z.a,Object(u.a)(Object(u.a)({},e),{},{children:[Object(k.jsx)(z.a.Header,{as:"h3",children:r}),Object(k.jsxs)(z.a.Body,{children:[b,Object(k.jsx)("br",{}),"\u23f1:",l,Object(k.jsx)("br",{}),"\ud83c\udff9:",5===s.length?"Any":0===s.length?"None":s.map((function(e){return e+1})).join(", ")]})]}))},children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("br",{}),"[",(c/t.length*100).toFixed(2),"%] ",r]})},a)})))]})]})]})},W=a(134),U=function(e){var t=e.selectedButtons,a=e.player,n=e.playerStats,r=e.inventoryStats,c=e.onClickEffect,s=e.canAct,l=e.lastAction,b=e.disabledSkills,d=e.setDisabledSkills,h=e.hotkeys,v=Object(m.c)(a.build).map((function(e){var t,a,n=Object(o.a)(e,2),r=n[0],c=n[1];return[r,c,[].concat(Object(i.a)(null!==(t=c.bot)&&void 0!==t?t:[]),Object(i.a)(null!==(a=c.eot)&&void 0!==a?a:[]))]})),S=Object(y.c)(b),M=v.reduce((function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1],c=Object(o.a)(t,3),i=c[0],s=(c[1],c[2]);return[n+s.length,r+(S.has(i)?0:s.reduce((function(e,t){return e+t.stamina}),0))]}),[0,0]),w=Object(o.a)(M,2),A=w[0],E=w[1],P=A>0,B=n.staminaPerTurn.current-E;return Object(k.jsx)(p.a,{children:Object(k.jsxs)(p.a.Body,{children:[Object(k.jsxs)(p.a.Title,{children:[a.lore.name,n.hp.current>0?"":Object(k.jsx)("b",{children:" \ud83d\udc80DEAD\ud83d\udc80 "})]}),Object(k.jsx)(p.a.Subtitle,{className:"mb-2 text-muted",children:a.build.class.display}),Object(k.jsxs)(p.a.Text,{children:["Attack ",n.attack.current," | Defence ",n.defence.current," | Speed"," ",n.speed.current]}),Object(k.jsxs)(p.a.Text,{children:[n.hp.current," \u2764"]}),Object(k.jsxs)(p.a.Text,{children:[n.stamina.current,"/",n.stamina.max," \ud83d\udcaa (",B>=0&&"+",B,")"]}),n.status.bleed.turns>0&&Object(k.jsxs)(p.a.Text,{children:[n.status.bleed.turns," \ud83e\ude78"]}),l&&Object(k.jsxs)(p.a.Text,{children:["Last action: ",l]}),s&&P&&Object(k.jsxs)(f.a,{children:[Object(k.jsx)("b",{children:"Passives"}),Object(k.jsx)(O.a,{children:v.map((function(e){var t=Object(o.a)(e,3),a=t[0],n=(t[1],t[2]);return n.length>0&&n.map((function(e,t){return Object(k.jsx)(I.a,{placement:"top",delay:{show:100,hide:250},overlay:function(t){return Object(k.jsxs)(z.a,Object(u.a)(Object(u.a)({},t),{},{children:[Object(k.jsx)(z.a.Header,{as:"h3",children:e.display}),Object(k.jsx)(z.a.Body,{children:e.tooltip})]}))},children:Object(k.jsxs)(W.a,{checked:!S.has(a),value:a,id:"passive-skill-".concat(a),type:"checkbox",variant:"outline-primary",onChange:function(e){return d(e.currentTarget.checked?Object(y.c)(b).delete(a).toArray():Object(y.c)(b).add(a).toArray())},children:[e.display," (\ud83d\udcaa: ",e.stamina,")"]})},t)}))}))})]}),s&&Object(y.b)(Object(g.h)(a,r)).map((function(e,t){return[t,e]})).groupBy((function(e){var t=Object(o.a)(e,2),a=(t[0],Object(o.a)(t[1],2)),n=a[0];a[1];return n.display})).toArray().map((function(e){var a=Object(o.a)(e,2),r=a[0],i=a[1];return Object(k.jsxs)(f.a,{children:[Object(k.jsx)("b",{children:r}),Object(k.jsx)(O.a,{children:i.map((function(e){var a=Object(o.a)(e,2),r=a[0],i=Object(o.a)(a[1],2),s=(i[0],i[1]);return Object(k.jsx)(I.a,{placement:"top",delay:{show:100,hide:250},overlay:function(e){return Object(k.jsxs)(z.a,Object(u.a)(Object(u.a)({},e),{},{children:[Object(k.jsx)(z.a.Header,{as:"h3",children:s.display}),Object(k.jsx)(z.a.Body,{children:s.tooltip})]}))},children:Object(k.jsxs)(j.a,{active:t.has(s.display),disabled:n.stamina.current<s.stamina,onClick:function(e){return c(r)},children:["[",Object(k.jsx)("i",{children:h[r]}),"] ",Object(k.jsx)("b",{children:s.display}),Object(k.jsxs)(p.a.Text,{children:["\ud83d\udcaa:",s.stamina," \u23f1:",Object(x.b)(s.priority-n.speed.current,0,4),Object(k.jsx)("br",{}),"\ud83c\udff9:",5===s.range.length?"All":s.range.join(", ")]})]})},s.display)})).toArray()})]},r)}))]})})};var J=a(95),Y=a.n(J),K=a(36);var V=["q","w","e","r","t","y","u","i","o","p","z","x","c","v","b","n","m"],_=function(e){var t,a=e.handlePlayerEffect,c=e.setSelected,s=e.setDisabledSkills,u=e.game,l=e.solveGame,d=e.timeTravel,m=e.hint,h=e.onMenu,v=e.onGameEnd,x=u.player,S=u.enemies,M=Object(g.i)(u),w=M.player,A=M.enemies,E=M.target,P=M.lastAttacks,B=M.disabledSkills,T=M.inventory,D=Object(n.useState)(!1),C=Object(o.a)(D,2),R=C[0],F=C[1],I=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return function(){return n(!a)}}();Object(n.useEffect)((function(){return Object(K.b)({ingame:{game:u,forceUpdate:I}}),function(){return Object(K.b)({ingame:void 0})}}),[u,I]);var z=Object(g.g)(x,T),W=Object(g.f)(u),J=function(){return F(!1)},_=function(e){var t=Object(n.useState)(new Set),a=Object(o.a)(t,2),r=a[0],c=a[1],s=function(e){var t=e.key;c((function(e){return new Set([].concat(Object(i.a)(e),[t]))}))},u=Object(n.useCallback)((function(t){var a=t.key;c((function(e){return new Set(Object(i.a)(e).filter((function(e){return e!==a})))})),e(a)}),[e]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",s),window.addEventListener("keyup",u),function(){window.removeEventListener("keydown",s),window.removeEventListener("keyup",u)}}),[u]),r}((function(e){if("Escape"===e&&h(),"h"===e&&m(5,100),"l"===e&&F(!R),"s"===e&&Q(),"a"===e&&u.states.length>1&&d&&d.undo(),"d"===e&&d&&null!=d.redo&&d.redo(),"playing"===W){if(-1!==V.indexOf(e)){var t=V.indexOf(e);if(!(z[t].stamina<=w.stamina.current))return;a(t)}var n=parseInt(e);n>0&&n<=S.length&&c(n-1)}})),q=Object(y.c)(Object(i.a)(_).flatMap((function(e){var t=V.indexOf(e);return-1!==t?[z[t].display]:[]}))),Q=Object(n.useCallback)((function(){var e=new Blob([JSON.stringify(u)],{type:"application/json;charset=utf-8"});Y()(e,"buildmancer-".concat(Date.now(),".bmreplay"))}),[u]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.a,{fluid:!0,children:Object(k.jsxs)(f.a,{children:[Object(k.jsxs)(L.a,{className:"d-flex justify-content-between align-items-center",children:[Object(k.jsxs)(p.a.Title,{children:["Turn ",u.states.length," out of ",u.turns]}),"playing"!==W&&Object(k.jsx)(j.a,{onClick:function(){return v(W,u)},children:"loss"===W?"\ud83d\udc80\ud83d\udc80DEFEAT\ud83d\udc80\ud83d\udc80":"win"===W?"\ud83c\udf89\ud83c\udf89VICTORY\ud83c\udf89\ud83c\udf89":"THIS IS A BUG, PLEASE REPORT IT"}),Object(k.jsxs)(j.a,{onClick:h,children:["[",Object(k.jsx)("i",{children:"Esc"}),"] MAIN MENU"]})]}),Object(k.jsx)(N.a,{children:Object(y.b)(S).zip(Object(y.b)(A)).map((function(e,t){var a,n=Object(o.a)(e,2),r=n[0],i=n[1];return Object(k.jsx)(G,{enemyStats:i,enemy:r,canAct:"playing"===W,latestAttack:null!==(a=Object(y.b)(P).filter((function(e){var a=e.origin,n=e.phase;return a===t&&"MAIN"===n})).map((function(e){return"".concat(e.display)})).join(" -> "))&&void 0!==a?a:void 0,isSelected:t===E,onSelect:function(){return c(t)},hotkey:"".concat(t+1)},t)}))}),Object(k.jsx)(L.a,{children:Object(k.jsx)(U,{player:x,playerStats:w,inventoryStats:T,disabledSkills:B,setDisabledSkills:s,onClickEffect:function(e){return a(e)},selectedButtons:q,hotkeys:V,lastAction:null!==(t=P.filter((function(e){return"Player"===e.origin&&"CLEANUP"!==e.phase})).map((function(e){return"".concat(e.display)})).join(" -> "))&&void 0!==t?t:void 0,canAct:"playing"===W})}),Object(k.jsx)(p.a,{children:Object(k.jsxs)(p.a.Body,{children:[Object(k.jsx)(p.a.Title,{children:"Turns"}),Object(k.jsxs)(f.a,{children:[Object(k.jsx)(O.a,{children:Object(k.jsxs)(j.a,{onClick:function(e){return m(5,100)},children:[Object(k.jsx)("i",{children:"[H]"})," Hint"]})}),null!=d&&Object(k.jsxs)(O.a,{children:[u.states.length>1&&Object(k.jsxs)(j.a,{onClick:function(e){return d.undo()},children:["[",Object(k.jsx)("i",{children:"A"}),"] Undo \u21a9"]}),d.redo&&Object(k.jsxs)(j.a,{onClick:function(e){return d.redo()},children:["[",Object(k.jsx)("i",{children:"D"}),"] Redo \u21aa"]})]})]}),Object(k.jsx)(p.a.Title,{children:"Debug"}),Object(k.jsx)(f.a,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(j.a,{onClick:function(){return F(!0)},children:["[",Object(k.jsx)("i",{children:"L"}),"] Log \ud83d\uddd2"]}),Object(k.jsxs)(j.a,{onClick:Q,children:["[",Object(k.jsx)("i",{children:"S"}),"] Save Replay \ud83d\udcc2"]})]})}),Object(k.jsx)(p.a.Title,{children:"Cheats"}),Object(k.jsx)(f.a,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)(j.a,{onClick:function(e){return l(5,100)},children:"Solve \u231b"}),Object(k.jsx)(j.a,{onClick:function(e){return l(20,100)},children:"Solve thoroughly \u231b\u231b\u231b"})]})})]})})]})}),Object(k.jsxs)(H.a,{show:R,onHide:J,scrollable:!0,centered:!0,children:[Object(k.jsx)(H.a.Header,{closeButton:!0,children:Object(k.jsx)(H.a.Title,{children:"Game Log"})}),Object(k.jsx)(H.a.Body,{children:u.states.map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("b",{children:["Turn ",t]}),Object(k.jsx)("br",{}),"Player: ",JSON.stringify(e.player,null,2),Object(k.jsx)("br",{}),"Enemies: ",JSON.stringify(e.enemies,null,2),Object(k.jsx)("br",{}),"Inventory?: ",JSON.stringify(e.inventory,null,2),Object(k.jsx)("br",{}),"Target [",e.target,"]",Object(k.jsx)("br",{}),"Bot?: ",JSON.stringify(e.bot,null,2),Object(k.jsx)("br",{}),"Eot?: ",JSON.stringify(e.eot,null,2),Object(k.jsx)("br",{}),"Actions:",Object(k.jsx)("br",{}),e.lastAttacks.map((function(e,t){return Object(k.jsxs)("div",{children:["--\x3e"," ",JSON.stringify(e,null,2),Object(k.jsx)("br",{})]},t)}))]},t)}))}),Object(k.jsx)(H.a.Footer,{children:Object(k.jsx)(j.a,{variant:"primary",onClick:J,children:"Close"})})]})]})},q=function(e){var t=e.play,a=e.timeTravel,n=e.onGameEnd,c=e.onMenu,s=r.a.useState(t),l=Object(o.a)(s,2),b=l[0],d=l[1],j=r.a.useState([]),f=Object(o.a)(j,2),p=f[0],O=f[1];r.a.useEffect((function(){d(t)}),[t]);var m=a?{redo:p.length>0?function(){var e=Object(i.a)(p),t=e.pop();O(e),d(Object(u.a)(Object(u.a)({},b),{},{states:[].concat(Object(i.a)(b.states),[t])}))}:void 0,undo:function(){O([].concat(Object(i.a)(p),[Object(g.i)(b)])),d(Object(u.a)(Object(u.a)({},b),{},{states:[Object(g.c)(b)].concat(Object(i.a)(b.states.slice(1,-1)))}))}}:void 0;return Object(k.jsx)(_,{game:b,timeTravel:m,onMenu:c,onGameEnd:n,setSelected:function(e){O([]),d(Object(g.l)(b,e))},setDisabledSkills:function(e){O([]),d(Object(g.k)(b,e))},handlePlayerEffect:function(e){O([]),d(Object(g.b)(b,e))},solveGame:function(e,t){return d(Object(y.b)(F(b,e,t)).maxBy((function(e){return e.score})).phenotype)},hint:function(e,t){return d(Object(u.a)(Object(u.a)({},b),{},{states:[].concat(Object(i.a)(b.states),[Object(y.b)(F(b,e,t)).maxBy((function(e){return e.score})).phenotype.states[b.states.length]])}))}})},Q=a(139),Z=function(e){var t=e.onLoad,a=e.onMenu,n=r.a.useState(),c=Object(o.a)(n,2),i=c[0],s=c[1],u=function(e){try{var a=JSON.parse(e);try{t(a)}catch(n){s("Failed to load Replay - Invalid Data")}}catch(n){s("Failed to load Replay - Bad Data")}};return Object(k.jsx)(l.a,{onSubmit:function(e){var t,a,n,r,c,i;if(e.preventDefault(),null!=(null===(t=e.target)||void 0===t||null===(a=t.fileData)||void 0===a?void 0:a.files[0])){var o=new FileReader;o.onloadend=function(e){var t,a=null===(t=e.target)||void 0===t?void 0:t.result;null!=a?u(a):s("Failed to load Replay - Bad File")},o.readAsText(e.target.fileData.files[0])}else null!=(null===(n=e.target)||void 0===n||null===(r=n.rawData)||void 0===r?void 0:r.value)&&""!==(null===(c=e.target)||void 0===c||null===(i=c.rawData)||void 0===i?void 0:i.value)&&u(e.target.rawData.value)},children:Object(k.jsxs)(b.a,{fluid:!0,children:[Object(k.jsxs)(L.a,{children:[Object(k.jsx)(f.a,{children:i&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Q.a,{variant:"danger",children:i}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{})]})}),Object(k.jsx)(f.a,{children:Object(k.jsxs)(l.a.Group,{children:[Object(k.jsx)(l.a.Label,{children:"Load Replay from File"}),Object(k.jsx)(l.a.Control,{type:"file",name:"fileData",accept:".bmreplay"}),Object(k.jsx)(l.a.Text,{muted:!0,children:"Select the Replay file to load"})]})}),Object(k.jsx)("br",{}),Object(k.jsx)(f.a,{children:Object(k.jsxs)(l.a.Group,{children:[Object(k.jsx)(l.a.Label,{children:"Load Replay from Text"}),Object(k.jsx)(l.a.Control,{name:"rawData",as:"textarea",rows:3,placeholder:"Replay text"}),Object(k.jsx)(l.a.Text,{muted:!0,children:"Paste the text of your Replay here"})]})}),Object(k.jsx)("br",{}),Object(k.jsx)(j.a,{variant:"primary",type:"submit",children:"Load"})]}),Object(k.jsx)("br",{}),Object(k.jsx)(j.a,{onClick:a,children:"MAIN MENU"})]})})};var X=function(){var e=Object(E.a)(P.a,{devTools:!0}),t=Object(o.a)(e,2),a=t[0],n=t[1],r=a.event,c=function(){n("MENU")};switch(!0){case a.matches("main"):return Object(k.jsx)(B,{title:"Main Menu",states:Object.keys(P.a.states.main.on),onClick:n});case a.matches({quick:"play"}):var s=Object(v.i)(),u=Object(v.g)();return Object(k.jsx)(q,{play:Object(g.d)(s[0],s[1],[u[0]],[u[1]],50,a.context.singleContext.seed),onMenu:c,timeTravel:!0,onGameEnd:function(e,t){n("win"===e?"WIN":"LOSE",{result:e,game:t})}});case a.matches({quick:"win"}):case a.matches({quick:"lose"}):return Object(k.jsx)(B,{title:"".concat(r.result," in ").concat(r.game.states.length-1," turns"),states:["MENU"],onClick:n});case a.matches({single:"player"}):return Object(k.jsx)(w,{onSave:function(e,t){n("PLAYER",{player:[e,t]})}});case a.matches({single:"encounter"}):return Object(k.jsx)(A,{player:r.player,onSave:function(e,t){n("ENCOUNTER",{encounter:[e,t],player:r.player})}});case a.matches({single:"play"}):return Object(k.jsx)(q,{play:Object(g.d)(r.player[0],r.player[1],r.encounter[0],r.encounter[1],50,a.context.singleContext.seed),onMenu:c,timeTravel:!0,onGameEnd:function(e,t){n("win"===e?"WIN":"LOSE",{result:e,game:t})}});case a.matches({single:"win"}):case a.matches({single:"lose"}):return Object(k.jsx)(B,{title:"".concat(r.result," in ").concat(r.game.states.length-1," turns"),states:["MENU"],onClick:n});case a.matches({training:"player"}):return Object(k.jsx)(w,{onSave:function(e,t){n("PLAYER",{player:[e,t]})}});case a.matches({training:"play"}):var l=Object(v.i)(),b=Object(v.c)();return Object(k.jsx)(q,{play:Object(g.d)(l[0],l[1],[b[0]],[b[1]],50,a.context.singleContext.seed),onMenu:c,timeTravel:!0,onGameEnd:function(e,t){n("win"===e?"WIN":"LOSE",{result:e,game:t})}});case a.matches({training:"win"}):case a.matches({training:"lose"}):return Object(k.jsx)(B,{title:"You have dealt a lot of damage! Well done \ud83d\udcaf",states:["MENU"],onClick:n});case a.matches({arcade:"player"}):var d=Object(v.g)();return Object(k.jsx)(w,{onSave:function(e,t){n("PLAYER",{game:Object(g.d)(e,t,[d[0]],[d[1]],50,a.context.survivalContext.seed)})}});case a.matches({arcade:"play"}):return Object(k.jsx)(q,{play:r.game,timeTravel:!1,onMenu:c,onGameEnd:function(e,t){var r=[[],[]];if(a.context.arcadeContext.victories>=0){var c=Object(v.g)();r=[[].concat(Object(i.a)(r[0]),[c[0]]),[].concat(Object(i.a)(r[1]),[c[1]])]}if(a.context.arcadeContext.victories>=2){var o=Object(v.g)();r=[[].concat(Object(i.a)(r[0]),[o[0]]),[].concat(Object(i.a)(r[1]),[o[1]])]}if(a.context.arcadeContext.victories>=5){var s=Object(v.g)();r=[[].concat(Object(i.a)(r[0]),[s[0]]),[].concat(Object(i.a)(r[1]),[s[1]])]}var u=Object(g.c)(t);n("win"===e?"WIN":"LOSE",{result:e,game:Object(g.e)(t.player,u.player,r[0],r[1],{},50,a.context.survivalContext.seed)})}});case a.matches({arcade:"victory"}):return Object(k.jsx)(B,{title:"\ud83c\udf89\ud83c\udf89VICTORY!\ud83c\udf89\ud83c\udf89 Final score: ".concat(a.context.arcadeContext.score),states:["MENU"],onClick:n});case a.matches({arcade:"defeat"}):return Object(k.jsx)(B,{title:"Failed after ".concat(a.context.arcadeContext.victories," victories"),states:["MENU"],onClick:n});case a.matches({survival:"player"}):var j=Object(v.g)();return Object(k.jsx)(w,{onSave:function(e,t){n("PLAYER",{game:Object(g.d)(e,t,[j[0]],[j[1]],50,a.context.survivalContext.seed)})}});case a.matches({survival:"play"}):return Object(k.jsx)(q,{play:r.game,onMenu:c,timeTravel:!1,onGameEnd:function(e,t){var r=Object(v.g)(),c=Object(g.i)(t);n("win"===e?"WIN":"LOSE",{result:e,game:Object(g.e)(t.player,c.player,[r[0]],[r[1]],c.inventory,50,a.context.survivalContext.seed)})}});case a.matches({survival:"defeat"}):return Object(k.jsx)(B,{title:"Completed after ".concat(a.context.survivalContext.victories," victories"),states:["MENU"],onClick:n});case a.matches({replay:"replay"}):return Object(k.jsx)(Z,{onLoad:function(e){return n("REPLAY",{game:e})},onMenu:c});case a.matches({replay:"play"}):return Object(k.jsx)(q,{play:r.game,onMenu:c,timeTravel:!0,onGameEnd:function(e,t){n("win"===e?"WIN":"LOSE",{result:e,game:t})}});case a.matches({replay:"win"}):case a.matches({replay:"lose"}):return Object(k.jsx)(B,{title:"".concat(r.result," in ").concat(r.game.states.length-1," turns"),states:["MENU"],onClick:n});default:return Object(k.jsx)(k.Fragment,{children:JSON.stringify(a.value)})}},$=a(98),ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},te=function(){var e=r.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{children:Object(k.jsx)(p.a.Body,{children:Object(k.jsxs)(f.a,{children:[Object(k.jsx)(L.a,{xs:10,children:Object(k.jsxs)(p.a.Text,{children:["Buildmancer by pakoito (2022) for the"," ",Object(k.jsx)("a",{href:"https://boardgamegeek.com/thread/2875719/2022-solitaire-print-and-play-contest",children:"BGG's 2022 Solitaire Print and Play Contest"}),". Send your feedback and Replays to the ",Object(k.jsx)("a",{href:"https://boardgamegeek.com/thread/2858500/wip-buildmancer-pre-release-tinkering-player-build",children:"game entry thread"}),"!"]})}),Object(k.jsx)(L.a,{children:Object(k.jsx)(j.a,{onClick:function(){return n(!0)},children:"Rules"})}),Object(k.jsx)(L.a,{children:Object(k.jsx)(j.a,{variant:"secondary",active:!1,children:"[TBD] Print and Play"})})]})})}),Object(k.jsxs)(H.a,{fullscreen:!0,show:a,onHide:function(){return n(!1)},scrollable:!0,centered:!0,children:[Object(k.jsx)(H.a.Header,{closeButton:!0,children:Object(k.jsx)(H.a.Title,{children:"Game Log"})}),Object(k.jsxs)(H.a.Body,{children:["Buildmancer has your standard turn-based JRPG rules. If you're familiar with Pokemon, Final Fantasy or Dragon Quest you will be right at home.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"As a player, you win \ud83c\udf89 if you reduce your Enemy's health \u2764 to 0.",Object(k.jsx)("br",{}),"You lose \ud83d\udc80 if your health \u2764 becomes 0.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Each turn you select one Skill to use, from the ones given by your Background and Equipment.",Object(k.jsx)("br",{}),"Enemies will choose one of their Skills with a fair roll of a dice.",Object(k.jsx)("br",{}),"Some Skills are Passive, which means they will be active on top of your chosen Skill.",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Skills can do an amount of damage that is increased or reduced by the Attack and Defense stats.",Object(k.jsx)("br",{}),"Skills cost stamina \ud83d\udcaa to use. You have a maximum amount of total stamina, and an amount that is restored per turn. Passive skills consume additional stamina.",Object(k.jsx)("br",{}),"Skills also have initiative \u23f1, and the lowest between your skill and your enemy's determines which one will be resolved first. It is modified by your Speed stat.",Object(k.jsx)("br",{}),"Skills have a determined range \ud83c\udff9, and whiff if the targeted enemy is outside of it at the moment of the attack. Use movement Skills to get in and out of danger!",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Skills can apply status effects to you or the enemy:",Object(k.jsx)("br",{}),"\u2003",Object(k.jsx)("i",{children:"Shield"}),": absorbs up to X damage this turn",Object(k.jsx)("br",{}),"\u2003",Object(k.jsx)("i",{children:"Bleed"}),": increases any instances of damage by 1 for several turns",Object(k.jsx)("br",{}),"\u2003",Object(k.jsx)("i",{children:"Poison"}),": deals 1 damage at the end of the turn for several turns",Object(k.jsx)("br",{}),"\u2003",Object(k.jsx)("i",{children:"Dodge"}),": avoids the next attack this turn Stun: skips all the current turn actions",Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),"Experiment with different Backgrounds and Equipments to get additional stats, and beat the different play modes!"]}),Object(k.jsx)(H.a.Footer,{children:Object(k.jsx)(j.a,{variant:"primary",onClick:function(){return n(!1)},children:"Close"})})]})]})},ae=document.getElementById("root");Object(c.createRoot)(ae).render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsxs)(b.a,{fluid:!0,children:[Object(k.jsx)(f.a,{children:Object(k.jsx)(X,{})}),Object(k.jsx)(te,{})]})})),$.a(),ee()},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return k})),a.d(t,"i",(function(){return S})),a.d(t,"g",(function(){return w})),a.d(t,"h",(function(){return A})),a.d(t,"a",(function(){return E})),a.d(t,"d",(function(){return P})),a.d(t,"e",(function(){return B})),a.d(t,"b",(function(){return R})),a.d(t,"l",(function(){return F})),a.d(t,"k",(function(){return L})),a.d(t,"f",(function(){return N})),a.d(t,"j",(function(){return H}));var n=a(18),r=a(1),c=a(7),i=a(11),o=a(5),s=a(17),u=a(42),l=a(89),b=a(21),d=a(6),j=a(36),f=a(22);var p=function(e){return function(t){return function(a,n,r){return e(t)(a,n,r)}}},O={"Debug:GGWP":p((function(){return function(e,t,a){return[t,Object(r.a)(Object(r.a)({},a),{},{enemies:a.enemies.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{hp:Object(r.a)(Object(r.a)({},e.hp),{},{current:0})})}))})]}})),"Debug:Sudoku":p((function(){return function(e,t,a){return[t,Object(r.a)(Object(r.a)({},a),{},{player:Object(r.a)(Object(r.a)({},a.player),{},{hp:Object(r.a)(Object(r.a)({},a.player.hp),{},{current:0})})})]}})),"Utility:Cleanup":p((function(){return function(e,t,a){return[t,Object(f.c)(v.changeStatusPlayer(a,(function(e){return Object(r.a)(Object(r.a)({},e),{},{armor:{amount:0},bleed:{turns:Math.max(e.bleed.turns-1,0)},dodge:{active:!1},stun:{active:!1}})})),(function(e){return e.enemies.reduce((function(e,t,a){return v.changeStatusMonster(e,a,(function(e){return Object(r.a)(Object(r.a)({},e),{},{armor:{amount:0},bleed:{turns:Math.max(e.bleed.turns-1,0)},dodge:{active:!1},stun:{active:!1}})}))}),a)}))]}}))},m=Object(r.a)(Object(r.a)({},O),{},{"Basic:Rest":p((function(){return function(e,t,a){return[t,a]}})),"Basic:Move":p((function(e){var t=e.amount;return function(e,a,n){return[a,v.changeDistance(n,n.target,t)]}})),"Basic:Attack":p((function(e){var t=e.amount;return function(e,a,n){return[a,v.attackMonster(n,n.target,t)]}})),"Basic:Stamina":p((function(e){var t=e.amount;return function(e,a,n){return[a,v.modifyPlayerStamina(n,t)]}})),"Basic:HP":p((function(e){var t=e.amount;return function(e,a,n){return[a,v.changeStatPlayer(n,(function(e){var a=e.hp;return{hp:Object(r.a)(Object(r.a)({},a),{},{current:Object(f.b)(a.current+t,0,a.max)})}}))]}})),"Effect:Dodge":p((function(){return function(e,t,a){return[t,"Player"===e?v.changeStatusPlayer(a,(function(e){return Object(r.a)(Object(r.a)({},e),{},{dodge:{active:!0}})})):v.changeStatusMonster(a,a.target,(function(e){return Object(r.a)(Object(r.a)({},e),{},{dodge:{active:!0}})}))]}})),"Effect:Armor":p((function(e){var t=e.amount;return function(e,a,n){return[a,"Player"===e?v.changeStatusPlayer(n,(function(e){return Object(r.a)(Object(r.a)({},e),{},{armor:{amount:e.armor.amount+t}})})):v.changeStatusMonster(n,n.target,(function(e){return Object(r.a)(Object(r.a)({},e),{},{armor:{amount:e.armor.amount+t}})}))]}})),"Effect:Stun":p((function(){return function(e,t,a){return[t,"Player"===e?v.changeStatusMonster(a,a.target,(function(e){return Object(r.a)(Object(r.a)({},e),{},{stun:{active:!0}})})):v.changeStatusPlayer(a,(function(e){return Object(r.a)(Object(r.a)({},e),{},{stun:{active:!0}})}))]}})),"Effect:Bleed":p((function(e){var t=e.target,a=e.turns;return function(e,n,c){return[n,"Player"===t?v.changeStatusPlayer(c,(function(e){return Object(r.a)(Object(r.a)({},e),{},{bleed:{turns:e.bleed.turns+a}})})):v.changeStatusMonster(c,c.target,(function(e){return Object(r.a)(Object(r.a)({},e),{},{bleed:{turns:e.bleed.turns+a}})}))]}})),"Effect:Poison":p((function(e){var t=e.target,a=e.turns;return function(e,n,r){return[n,Object(f.c)("Player"===t?"Player":r.target,(function(e){return h(n,r,{target:e,turns:a})}))]}})),"Reduce:PoisonBOT":p((function(e){return function(t,a,n){return[a,h(a,n,e)]}})),"Effect:Stat":p((function(e){return function(t,a,n){return[a,"Player"===e.target?v.changeStatPlayer(n,(function(t){var a,n,c,i,o,s;return{hp:Object(r.a)(Object(r.a)({},t.hp),{},{current:Object(f.b)(t.hp.current+(null!==(a=e.hp)&&void 0!==a?a:0),0,t.hp.max)}),stamina:Object(r.a)(Object(r.a)({},t.stamina),{},{current:Object(f.b)(t.stamina.current+(null!==(n=e.stamina)&&void 0!==n?n:0),0,t.stamina.max)}),speed:Object(r.a)(Object(r.a)({},t.speed),{},{current:Math.min(t.speed.max,t.speed.current+(null!==(c=e.speed)&&void 0!==c?c:0))}),defence:Object(r.a)(Object(r.a)({},t.defence),{},{current:Math.min(t.defence.max,t.defence.current+(null!==(i=e.defence)&&void 0!==i?i:0))}),attack:Object(r.a)(Object(r.a)({},t.attack),{},{current:Math.min(t.attack.max,t.attack.current+(null!==(o=e.attack)&&void 0!==o?o:0))}),staminaPerTurn:Object(r.a)(Object(r.a)({},t.staminaPerTurn),{},{current:Math.min(t.staminaPerTurn.max,t.staminaPerTurn.current+(null!==(s=e.staminaPerTurn)&&void 0!==s?s:0))})}})):v.changeStatMonster(n,"Player"===t?n.target:t,(function(t){var a,n,c,i;return{hp:Object(r.a)(Object(r.a)({},t.hp),{},{current:Object(f.b)(t.hp.current+(null!==(a=e.hp)&&void 0!==a?a:0),0,t.hp.max)}),speed:Object(r.a)(Object(r.a)({},t.speed),{},{current:Math.min(t.speed.current+(null!==(n=e.speed)&&void 0!==n?n:0),t.speed.max)}),defence:Object(r.a)(Object(r.a)({},t.defence),{},{current:Math.min(t.defence.current+(null!==(c=e.defence)&&void 0!==c?c:0),t.defence.max)}),attack:Object(r.a)(Object(r.a)({},t.attack),{},{current:Math.min(t.attack.current+(null!==(i=e.attack)&&void 0!==i?i:0),t.attack.max)})}}))]}})),"Monster:Attack":p((function(e){var t=e.amount;return function(e,a,n){return[a,v.attackPlayer(n,t)]}})),"Monster:Summon":p((function(e){var t=e.enemy;return function(e,a,n){return v.addEnemy(a,n,b.b[t][0],b.b[t][1])}})),"Monster:Dead":p((function(){return function(e,t,a){return[t,a]}})),"Monster:Move":p((function(){return function(e,t,a){return[t,v.changeDistance(a,e,-2)]}})),"BootsOfFlight:EOT":p((function(){return function(e,t,a){return[t,a.enemies.reduce((function(e,t,a){return v.changeDistance(e,a,2)}),a)]}})),"Wand:MagicBolt":p((function(){return function(e,t,a){for(var n=a;n.player.stamina.current;)n=v.modifyPlayerStamina(n,-2),n=v.attackMonster(n,a.target,1);return[t,n]}}))}),h=function(e,t,a){var n=a.target,c=a.turns;return Object(f.c)("Player"===n?v.changeStatPlayer(t,(function(e){var t=e.hp;return{hp:Object(r.a)(Object(r.a)({},t),{},{current:Math.max(0,t.current-1)})}})):v.changeStatMonster(t,t.target,(function(e){var t=e.hp;return{hp:Object(r.a)(Object(r.a)({},t),{},{current:Math.max(0,t.current-1)})}})),(function(t){return c>0?v.addBotEffect(t,"Player",{display:"Poison ".concat("Player"===n?"Player":e.enemies[n].lore.name+" ["+(n+1)+"]"),tooltip:"",range:d.a,priority:4,interruptible:!1,effects:[Object(o.b)(["Reduce:PoisonBOT",{target:n,turns:c-1}])]}):t}))},y=function(e,t,a){return e.map((function(e,n){return n===t?Object(r.a)(Object(r.a)({},e),a(e)):e}))},g=function(e,t){return Object(r.a)(Object(r.a)({},e),{},{player:Object(r.a)(Object(r.a)({},e.player),t(e.player))})},v={attackPlayer:function(e,t){var a=e.player.status.armor.amount,n=t+e.player.attack.current,c=Math.max(n-e.player.defence.current,0),i=Math.max(c-a,0),o=a-(c-i),s=i+(e.player.status.bleed.turns>0?1:0);return g(e,(function(e){var t=e.hp,a=e.status;return{hp:Object(r.a)(Object(r.a)({},t),{},{current:Object(f.b)(t.current-s,0,t.max)}),status:Object(r.a)(Object(r.a)({},a),{},{armor:{amount:a.armor.amount-o}})}}))},attackMonster:function(e,t,a){var n=e.enemies[t],c=n.status.armor.amount,i=a+e.player.attack.current,o=Math.max(i-n.defence.current,0),s=Math.max(o-c,0),u=c-(o-s),l=s+(n.status.bleed.turns>0?1:0);return Object(r.a)(Object(r.a)({},e),{},{enemies:y(e.enemies,t,(function(e){var t=e.status,a=e.hp;return{hp:Object(r.a)(Object(r.a)({},a),{},{current:Object(f.b)(a.current-l,0,a.max)}),status:Object(r.a)(Object(r.a)({},t),{},{armor:{amount:u}})}}))})},changeStatPlayer:g,changeStatMonster:function(e,t,a){return Object(r.a)(Object(r.a)({},e),{},{enemies:y(e.enemies,t,a)})},changeStatusPlayer:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{player:Object(r.a)(Object(r.a)({},e.player),{},{status:t(e.player.status)})})},changeStatusMonster:function(e,t,a){return Object(r.a)(Object(r.a)({},e),{},{enemies:y(e.enemies,t,(function(e){var t=e.status;return{status:a(t)}}))})},changeDistance:function(e,t,a){return Object(r.a)(Object(r.a)({},e),{},{enemies:y(e.enemies,t,(function(e){var t=e.distance;return{distance:Object(f.b)(t+a,0,4)}}))})},removeMonster:function(e,t,a){return[Object(r.a)(Object(r.a)({},e),{},{enemies:e.enemies.filter((function(e,t){return t===a}))}),Object(r.a)(Object(r.a)({},t),{},{target:0,enemies:t.enemies.filter((function(e,t){return t===a}))})]},modifyPlayerStamina:function(e,t){return function(e,t,a){var n=e.player;return n[t]=Object(r.a)(Object(r.a)({},n[t]),a(n[t])),Object(r.a)(Object(r.a)({},e),{},{player:n})}(e,"stamina",(function(e){return{current:Object(f.b)(e.current+t,0,e.max)}}))},addEotEffect:function(e,t,a){var n;return Object(r.a)(Object(r.a)({},e),{},{eot:[].concat(Object(i.a)(null!==(n=e.eot)&&void 0!==n?n:[]),[[t,a]])})},addBotEffect:function(e,t,a){var n;return Object(r.a)(Object(r.a)({},e),{},{bot:[].concat(Object(i.a)(null!==(n=e.eot)&&void 0!==n?n:[]),[[t,a]])})},addEnemy:function(e,t,a,n){return e.enemies.length<5?[Object(r.a)(Object(r.a)({},e),{},{enemies:[].concat(Object(i.a)(e.enemies),[a])}),Object(r.a)(Object(r.a)({},t),{},{enemies:[].concat(Object(i.a)(t.enemies),[n])})]:[e,t]}};var x={"+Health":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{hp:Object(d.e)(e.hp.current+5)}),t]},"+StaPerTurn":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{staminaPerTurn:Object(d.e)(e.staminaPerTurn.current+1)}),t]},"+Stamina":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{stamina:Object(d.e)(e.stamina.current+2,(function(e){return e}))}),t]},"+Attack":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{attack:Object(d.e)(e.attack.current+1)}),t]},"+Speed":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{speed:Object(d.e)(e.speed.current+1)}),t]},"+Defence":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{defence:Object(d.e)(e.defence.current+1)}),t]},"-Health":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{hp:Object(d.e)(e.hp.current-3)}),t]},"-StaPerTurn":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{staminaPerTurn:Object(d.e)(e.staminaPerTurn.current-1)}),t]},"-Stamina":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{stamina:Object(d.e)(e.stamina.current-2,(function(e){return e}))}),t]},"-Attack":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{attack:Object(d.e)(e.attack.current-1)}),t]},"-Speed":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{speed:Object(d.e)(e.speed.current-1)}),t]},"-Defence":function(e,t){return[Object(r.a)(Object(r.a)({},e),{},{defence:Object(d.e)(e.defence.current-1)}),t]}};Object(j.b)({effects:m});var k=function(e){return e.states[0]},S=function(e){return e.states[e.states.length-1]};function M(e,t,a){var n=new u.Chance(a);return Object(f.d)(e).map((function(e){return Object(f.d)(t).map((function(e){return n.floating({min:0,max:.9999,fixed:4})}))}))}var w=function(e,t){return Object(o.c)(e.build).flatMap((function(e){var t,a=Object(c.a)(e,2);a[0];return null!==(t=a[1].effects)&&void 0!==t?t:[]})).filter((function(e){var a,n,r;return(null!==(a=e.amount)&&void 0!==a?a:999)>(null!==(n=null===(r=t[e.display])||void 0===r?void 0:r.used)&&void 0!==n?n:0)}))},A=function(e,t){return Object(o.c)(e.build).flatMap((function(e){var t,a=Object(c.a)(e,2),n=(a[0],a[1]);return(null!==(t=n.effects)&&void 0!==t?t:[]).map((function(e){return[n,e]}))})).filter((function(e){var a,n,r,i=Object(c.a)(e,2),o=(i[0],i[1]);return(null!==(a=o.amount)&&void 0!==a?a:999)>(null!==(n=null===(r=t[o.display])||void 0===r?void 0:r.used)&&void 0!==n?n:0)}))},E=function(e,t,a){return function(e){return Object(o.c)(e.build).flatMap((function(e){var t,a=Object(c.a)(e,2);return a[0],null!==(t=a[1].passives)&&void 0!==t?t:[]})).map((function(e){return x[e]}))}(e).reduce((function(e,t){var a=Object(c.a)(e,2);return t(a[0],a[1])}),[t,a])};function P(e,t,a,n,r,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:20,s=E(e,t,n),u=Object(c.a)(s,2),l=u[0],b=u[1];return B(e,l,a,b,{},r,i,o)}function B(e,t,a,n,r,c,i){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:20;return{player:e,enemies:a,states:[{player:t,enemies:n,inventory:r,target:0,lastAttacks:[],disabledSkills:[]}],rng:M(c,o,i),turns:c,id:Object(l.a)([e,a,c,i]),seed:i,version:"1"}}var T=function(e,t,a,n){return Object(s.b)(e).sortBy((function(e){var r,i=Object(c.a)(e,2),o=i[0],s=i[1];if(null==s)throw new Error("Error in ".concat(n," by ").concat("Player"===o?"Player":null===(r=t.enemies[o])||void 0===r?void 0:r.lore.name));var u="Player"===o?a.player.speed.current:a.enemies[o].speed.current;return Object(f.b)(s.priority-u,0,4)})).reduce((function(e,t){var a=Object(c.a)(t,2),u=a[0],l=a[1],b=Object(c.a)(e,2),d=b[0],j=b[1],f="Player"===u?j.target:u,p=j.enemies[f];if("Player"!==u&&p.hp.current<=0)return[d,Object(r.a)(Object(r.a)({},j),{},{lastAttacks:[].concat(Object(i.a)(j.lastAttacks),[{origin:u,display:"\ud83d\udc80\ud83d\udc80DEAD\ud83d\udc80\ud83d\udc80 ".concat(l.display),phase:n}])})];var O=l.interruptible&&"Player"===u&&j.player.status.stun.active,h=l.interruptible&&"Player"!==u&&p.status.stun.active;if(O||h)return[d,Object(r.a)(Object(r.a)({},j),{},{lastAttacks:[].concat(Object(i.a)(j.lastAttacks),[{origin:u,display:"\ud83d\udcab\ud83d\udcabSTUNNED\ud83d\udcab\ud83d\udcab ".concat(l.display),phase:n}])})];if(!Object(s.c)(Object(i.a)(l.range)).has(p.distance))return[d,Object(r.a)(Object(r.a)({},j),{},{lastAttacks:[].concat(Object(i.a)(j.lastAttacks),[{origin:u,display:"\u274c\u274cWHIFFED\u274c\u274c ".concat(l.display),phase:n}])})];if(l.interruptible&&"Player"===u&&p.status.dodge.active)return[d,Object(r.a)(Object(r.a)({},j),{},{enemies:j.enemies.map((function(e,t){return t===f?Object(r.a)(Object(r.a)({},e),{},{status:Object(r.a)(Object(r.a)({},e.status),{},{dodge:{active:!1}})}):e})),lastAttacks:[].concat(Object(i.a)(j.lastAttacks),[{origin:u,display:"\ud83d\udca8\ud83d\udca8DODGED\ud83d\udca8\ud83d\udca8 ".concat(l.display),phase:n}])})];if(l.interruptible&&"Player"!==u&&j.player.status.dodge.active)return[d,Object(r.a)(Object(r.a)({},j),{},{player:Object(r.a)(Object(r.a)({},j.player),{},{status:Object(r.a)(Object(r.a)({},j.player.status),{},{dodge:{active:!1}})}),lastAttacks:[].concat(Object(i.a)(j.lastAttacks),[{origin:u,display:"\ud83d\udca8\ud83d\udca8DODGED\ud83d\udca8\ud83d\udca8 ".concat(l.display),phase:n}])})];var y=function(e){var t=e.effects;return function(e,a,n){return t.reduce((function(t,a){var n=a.index,r=a.parameters;return Object(o.a)(m,n,r).apply(void 0,[e].concat(Object(i.a)(t)))}),[a,n])}}(l)(u,d,j),g=Object(c.a)(y,2),v=g[0],x=g[1];return[v,Object(r.a)(Object(r.a)({},x),{},{lastAttacks:[].concat(Object(i.a)(x.lastAttacks),[{origin:u,display:l.display,phase:n}])})]}),[t,a])},D={display:"Cleanup",tooltip:"Cleanup",effects:[Object(o.b)("Utility:Cleanup")],range:d.a,priority:0,interruptible:!1},C={display:"\u26b0",tooltip:"\u26b0",priority:4,effects:[Object(o.b)("Monster:Dead")],range:d.a,interruptible:!1},R=function(e,t){var a,u,l,b,j,f,p,O=S(e),m=w(e.player,O.inventory)[t],h=null!==(a=O.bot)&&void 0!==a?a:[],y=null!==(u=O.eot)&&void 0!==u?u:[],g=Object(r.a)(Object(r.a)({},O),{},{lastAttacks:[],bot:void 0,eot:void 0,inventory:Object(r.a)(Object(r.a)({},O.inventory),{},Object(n.a)({},m.display,{used:1+(null!==(l=null===(b=O.inventory[m.display])||void 0===b?void 0:b.used)&&void 0!==l?l:0)}))}),v=T(h,e,g,"BOT"),x=Object(c.a)(v,2),k=x[0],M=x[1],A=(j=k.player,f=M.disabledSkills,Object(o.c)(j.build).flatMap((function(e){var t,a=Object(c.a)(e,2),n=a[0],r=a[1];return Object(s.c)(f).has(n)?[]:null!==(t=r.bot)&&void 0!==t?t:[]})).map((function(e){return["Player",e]}))),E=[].concat(Object(i.a)(A),Object(i.a)(k.enemies.flatMap((function(e,t){var a;return(null!==(a=e.bot)&&void 0!==a?a:[]).map((function(e){return[t,e]}))})).map((function(e){return Object(i.a)(e)})))),P=T(E,k,M,"BOT"),B=Object(c.a)(P,2),R=B[0],F=B[1],L=function(e,t){var a=Object(i.a)(e.rng[t]);return function(e,t){return Math.floor((t-e)*a.pop()+e)}}(R,R.states.length),N=Object(s.b)(R.enemies).zip(Object(s.b)(F.enemies)).map((function(e,t){var a=Object(c.a)(e,2),n=a[0],r=a[1];if(r.hp.current>0){var i=n.rolls[r.distance],o=L(0,n.rolls[r.distance].length);return[t,n.effects[i[o]]]}return[t,C]})).concat([["Player",m]]).toArray().map((function(e){return Object(i.a)(e)})),H=T(N,R,F,"MAIN"),I=Object(c.a)(H,2),z=I[0],G=I[1],W=function(e,t){return Object(o.c)(e.build).flatMap((function(e){var a,n=Object(c.a)(e,2),r=n[0],i=n[1];return Object(s.c)(t).has(r)?[]:null!==(a=i.eot)&&void 0!==a?a:[]})).map((function(e){return["Player",e]}))}(z.player,G.disabledSkills),U=[].concat(Object(i.a)(W),Object(i.a)(function(e){return e.flatMap((function(e,t){var a;return(null!==(a=e.eot)&&void 0!==a?a:[]).map((function(e){return[t,e]}))})).map((function(e){return Object(i.a)(e)}))}(z.enemies))),J=T(U,z,G,"EOT"),Y=Object(c.a)(J,2),K=Y[0],V=Y[1],_=T(y,K,V,"EOT"),q=Object(c.a)(_,2),Q=q[0],Z=q[1],X=[].concat(Object(i.a)(A),Object(i.a)(W)).reduce((function(e,t){return e+t[1].stamina}),0),$=T([["Player",(p=O.player.staminaPerTurn.current-m.stamina-X,{display:"".concat(p>=0?"+":"").concat(p," \ud83d\udcaa"),tooltip:"Use ".concat(p," stamina"),effects:[Object(o.b)(["Basic:Stamina",{amount:p}])],range:d.a,priority:0,interruptible:!1})]],Q,Z,"EOT"),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=T([["Player",D]],te,ae,"CLEANUP"),re=Object(c.a)(ne,2),ce=re[0],ie=re[1];return Object(r.a)(Object(r.a)({},ce),{},{states:[].concat(Object(i.a)(ce.states),[ie])})},F=function(e,t){return e.states[e.states.length-1].target=t,Object(r.a)(Object(r.a)({},e),{},{states:Object(i.a)(e.states)})},L=function(e,t){return e.states[e.states.length-1].disabledSkills=t,Object(r.a)(Object(r.a)({},e),{},{states:Object(i.a)(e.states)})},N=function(e){var t=S(e);return e.states.length>e.turns||t.player.hp.current<=0?"loss":t.enemies.reduce((function(e,t){return e+t.hp.current}),0)<=0?"win":"playing"},H=function(e){var t=k(e),a=S(e),n=e.states.length,r=Math.max(0,t.player.hp.max-a.player.hp.current)/t.player.hp.max,c=Math.max(0,t.player.stamina.max-a.player.stamina.current)/t.player.hp.max,i=a.enemies.length;return Math.floor(i*(500*r+150*c+(500-10*n)))}},21:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a(36),r=a(6),c=a(5),i={piripuru:[{lore:{name:"Piripuru"},rolls:[[1],[1,1,1,0],[1,0],[0],[0]],effects:[{display:"Bounce",tooltip:"Floomp Floomp",priority:1,interruptible:!1,effects:[Object(c.b)(["Monster:Move",{amount:-2}])],range:r.j},{display:"Slam",tooltip:"Throws itself at you",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:5}])],range:Object(r.d)(0,1)}]},{hp:Object(r.e)(7),distance:4,speed:Object(r.e)(0),attack:Object(r.e)(0),defence:Object(r.e)(0),status:r.b}],toros:[{lore:{name:"Toros",description:"Big, mean, strong and unclean"},rolls:[[1,1,1,2,2,0],[1,2,2,2,2,0],[2,2,3,3,4,0],[2,3,3,4,0],[3,3,3,4,4,0]],effects:[{display:"Rest",tooltip:"It won't be long until the massacre continues",priority:1,interruptible:!1,effects:[Object(c.b)(["Effect:Stat",{target:"Monster",hp:1}])],range:r.j},{display:"Chomp",tooltip:"Toro attempts to eat you for massive damage!",priority:4,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:18}])],range:Object(r.d)(0)},{display:"Swipe",tooltip:"High damage attack that staggers",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:12}]),Object(c.b)(["Monster:Move",{amount:-1}]),Object(c.b)("Effect:Stun")],range:Object(r.d)(0,1,2)},{display:"Lunge",tooltip:"Charges forward for a horn attack",priority:4,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:10}]),Object(c.b)(["Monster:Move",{amount:-5}])],range:Object(r.d)(3,4)},{display:"Roar",tooltip:"A terrifying howl!",priority:3,interruptible:!1,effects:[Object(c.b)(["Basic:Stamina",{amount:-5}])],range:r.a}]},{hp:Object(r.e)(38),distance:2,speed:Object(r.e)(0),attack:Object(r.e)(0),defence:Object(r.e)(0),status:r.b}],purupuri:[{lore:{name:"Mama Purupuri",description:"Mama can always call one of its little ones to help"},rolls:[[1,1,1,1,0],[1,1,1,1,2,0],[1,1,1,1,2,0],[2,2,0],[2,2,0]],effects:[{display:"Recover",tooltip:"Mama needs its rest",priority:1,interruptible:!1,effects:[Object(c.b)(["Effect:Stat",{target:"Monster",hp:3}])],range:r.j},{display:"Stomp",tooltip:"Quickly, out of the way!",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:8}]),Object(c.b)("Effect:Stun")],range:Object(r.d)(0,1)},{display:"Call for Aid",tooltip:"Calls for the litter to help",priority:3,interruptible:!1,effects:[Object(c.b)(["Monster:Summon",{enemy:"piripuru"}]),Object(c.b)(["Effect:Stat",{target:"Monster",hp:-5}]),Object(c.b)(["Monster:Move",{amount:-2}])],range:r.a}]},{hp:Object(r.e)(50),distance:3,speed:Object(r.e)(0),attack:Object(r.e)(0),defence:Object(r.e)(0),status:r.b}],ninkujorua:[{lore:{name:"Ninkujorua",description:"Just...stay...still...for...a...second"},rolls:[[1,1,1,2,2,2,0],[1,1,1,2,2,2,0],[1,1,2,2,2,0],[1,2,3,0],[2,3,0]],effects:[{display:"Meditate",tooltip:"And not about good vibes",priority:1,interruptible:!1,effects:[Object(c.b)(["Effect:Stat",{target:"Monster",attack:1}]),Object(c.b)(["Monster:Move",{amount:999}]),Object(c.b)("Effect:Dodge")],range:r.j},{display:"Rapid Slash - Retreat!",tooltip:"Deals several strikes then moves away from the player",priority:2,interruptible:!0,effects:[Object(c.b)(["Monster:Move",{amount:-5}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)("Effect:Dodge")],range:r.a},{display:"Rapid Slash - Advance!",tooltip:"Moves close to the player then deals several strikes",priority:2,interruptible:!0,effects:[Object(c.b)(["Monster:Move",{amount:-5}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:2}])],range:r.a},{display:"Back Spikes",tooltip:"Jumps and shoots several needles that cause bleed",priority:4,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:1}]),Object(c.b)(["Monster:Attack",{amount:1}]),Object(c.b)(["Effect:Bleed",{target:"Player",turns:3}])],range:Object(r.d)(3,4)}]},{hp:Object(r.e)(25),distance:1,speed:Object(r.e)(0),attack:Object(r.e)(0),defence:Object(r.e)(0),status:r.b}],tshopuritazios:[{lore:{name:"Tshopuritazios",description:"A filth bird whose stench hits a mile away"},rolls:[[1,1,1,2,2,2,0],[1,1,1,2,2,2,0],[1,1,2,2,2,0],[1,2,3,0],[2,3,0]],effects:[{display:"Goad",tooltip:"Sounds like it's laughing at you",priority:1,interruptible:!1,effects:[Object(c.b)(["Effect:Stat",{target:"Player",defence:-1,attack:-1}]),Object(c.b)(["Monster:Move",{amount:999}])],range:r.j},{display:"Peck",tooltip:"What is worse, the force or the texture?",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:10}]),Object(c.b)("Effect:Stun"),Object(c.b)(["Monster:Move",{amount:2}])],range:Object(r.d)(0,1)},{display:"Fling Mud",tooltip:"A large chunk coming right at you!",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:2}]),Object(c.b)(["Monster:Attack",{amount:8}]),Object(c.b)(["Monster:Move",{amount:1}])],range:Object(r.d)(1,2,3)},{display:"Spit Bile",tooltip:"This disgusting liquid corrodes your armor",priority:3,interruptible:!0,effects:[Object(c.b)(["Monster:Attack",{amount:1}]),Object(c.b)(["Monster:Attack",{amount:1}]),Object(c.b)(["Effect:Poison",{target:"Player",turns:3}]),Object(c.b)(["Effect:Stat",{target:"Player",defence:-1}])],range:Object(r.d)(2,3,4)}]},{hp:Object(r.e)(32),distance:4,speed:Object(r.e)(0),attack:Object(r.e)(0),defence:Object(r.e)(0),status:r.b}]},o={heavy:{display:"Heavy",passives:["+Defence","+Defence","+Defence","+Defence","-Speed","-StaPerTurn"]},medium:{display:"Medium",passives:["+Defence","+Defence","-StaPerTurn"]},light:{display:"Light",passives:["+Defence"]},none:{display:"None",passives:["+Speed"]}},s={health:{display:"of Health",passives:["+Health"],tooltip:"Increases your maximum health"},haste:{display:"of Haste",passives:["+StaPerTurn"],tooltip:"Increases your maximum stamina regeneration"},resilience:{display:"of Resilience",passives:["+Stamina"],tooltip:"Increases your maximum stamina"},strength:{display:"of Strength",passives:["+Attack","-Defence"],tooltip:"Increases your maximum attack"},swiftness:{display:"of Swiftness",passives:["+Speed","-Attack"],tooltip:"Increases your maximum speed"},defence:{display:"of Defence",passives:["+Defence","-Speed"],tooltip:"Increases your maximum defence"}},u={warrior:{display:"Warrior",passives:["+Attack","+Defence","+Stamina"],effects:[{display:"Well placed kick",tooltip:"Last resource attack",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:2,interruptible:!0,stamina:1,range:Object(r.d)(0,1)}]},rogue:{display:"Rogue",passives:["+Speed","+Speed","-Stamina"],effects:[{display:"Strategic Retreat",tooltip:"Jump backwards",effects:[Object(c.b)(["Basic:Move",{amount:999}])],priority:2,interruptible:!1,stamina:1,range:r.j}]},berserk:{display:"Berserk",passives:["+Attack","+Attack","+StaPerTurn","-Defence","-Health"],effects:[{display:"All or Nothing!",tooltip:"Deals massive damage and leaves you weakened",priority:2,interruptible:!0,stamina:0,range:Object(r.d)(0,1,2),amount:1,effects:[Object(c.b)(["Basic:Move",{amount:-5}]),Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)(["Effect:Stat",{target:"Player",defence:-3,speed:-1}])]}]},mage:{display:"Mage",passives:["+StaPerTurn","+Stamina","-Health"],effects:[{display:"Just having a thought",tooltip:"Restores stamina for the next action",priority:4,interruptible:!1,amount:2,stamina:0,range:r.j,effects:[Object(c.b)(["Basic:Stamina",{amount:999}])]}]},cleric:{display:"Cleric",passives:["+Defence","+Stamina"],effects:[{display:"Minor Healing",tooltip:"Restores some HP",amount:3,effects:[Object(c.b)(["Basic:HP",{amount:5}])],priority:3,interruptible:!1,stamina:3,range:r.j}]}},l={healing:{display:"Healing Potion",effects:[{display:"Healing!",tooltip:"Restores some HP",effects:[Object(c.b)(["Basic:HP",{amount:4}])],priority:4,interruptible:!1,stamina:5,amount:3,range:r.j}]},razors:{display:"Pot of Razors",effects:[{display:"Throw pot",tooltip:"Causes bleeding",amount:2,effects:[Object(c.b)(["Effect:Bleed",{target:"Monster",turns:3}])],priority:4,interruptible:!0,stamina:5,range:r.j}]},bubble:{display:"Life Bubble",effects:[{display:"Activate Bubble",tooltip:"Protects against a single source of damage this turn",effects:[Object(c.b)("Effect:Dodge")],priority:1,interruptible:!1,stamina:1,amount:1,range:r.j}]},rock:{display:"Pet Rock",effects:[{display:"Rock, to me!",tooltip:"Reduces damage",effects:[Object(c.b)(["Effect:Armor",{amount:3}])],priority:2,interruptible:!1,stamina:3,amount:3,range:r.j}]}},b={slippers:{display:"Slippers of Dooooodge!",tooltip:"Allows you to dodge attacks",effects:[{display:"Advanced Dodge",tooltip:"Avoid 1 attack",effects:[Object(c.b)("Effect:Dodge")],priority:1,interruptible:!1,stamina:3,range:r.j}]},boots:{display:"Boots of Flight",tooltip:"Avoid your enemies",eot:[{display:"Flight!",tooltip:"Increases distance at the end of the turn",priority:0,interruptible:!1,range:r.a,stamina:2,effects:[Object(c.b)("BootsOfFlight:EOT")]}]},greaves:{display:"Greaves of Stability",tooltip:"Extra resilient",passives:["-StaPerTurn"],effects:[{display:"Dig your heels",tooltip:"Resists damage",effects:[Object(c.b)(["Effect:Armor",{amount:3}])],priority:1,interruptible:!1,stamina:4,range:r.j}]}},d={helm:{display:"Helm",passives:["+Defence","+Defence","-StaPerTurn"],tooltip:"Big protection for slow combatants"},cap:{display:"Feather Cap",passives:["+StaPerTurn","+Stamina"],tooltip:"Makes you feel energized, doesn't it?"},magehat:{display:"Mage Hat",tooltip:"Small tricks for big plays",effects:[{display:"Flash!",tooltip:"Blinks you to a better position",effects:[Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Move",{amount:2}])],priority:3,interruptible:!0,stamina:4,range:Object(r.d)(1,2)}]}},j={hook:{display:"Hook",effects:[{display:"Get over here!",tooltip:"Moves enemy closer",effects:[Object(c.b)(["Basic:Attack",{amount:3}]),Object(c.b)(["Basic:Move",{amount:-2}])],priority:4,interruptible:!0,stamina:3,range:Object(r.d)(2,3,4)}]},parry:{display:"Parry Dagger",effects:[{display:"Get over here!",tooltip:"Avoids a melee attack",effects:[Object(c.b)("Effect:Dodge")],priority:2,interruptible:!1,stamina:2,range:Object(r.d)(1)}]},shield:{display:"Shield",passives:["+Defence","-StaPerTurn"],effects:[{display:"Not today!",tooltip:"Blocks a lot of damage",effects:[Object(c.b)(["Effect:Armor",{amount:5}])],priority:2,interruptible:!1,stamina:4,range:r.j}]},focus:{display:"Focus",passives:["+Speed","+StaPerTurn"]},wand:{display:"Wand",passives:["-Defence"],effects:[{display:"Magic Bolt",tooltip:"Shoots mana bolts until the caster faints",effects:[Object(c.b)("Wand:MagicBolt")],priority:3,interruptible:!0,stamina:1,range:Object(r.d)(3,4)}]}},f={sturdy:{display:"Sturdy",bot:[{display:"Endure the pain",tooltip:"Blocks some damage each turn at the cost of stamina",stamina:2,effects:[Object(c.b)(["Effect:Armor",{amount:4}])],priority:1,interruptible:!1,range:r.j}]},nimble:{display:"Nimble",effects:[{display:"Dodge",tooltip:"Avoid one enemy attack",effects:[Object(c.b)("Effect:Dodge")],priority:2,interruptible:!1,stamina:4,range:r.j}]},resourceful:{display:"Resourceful",effects:[{display:"Dodge this!",tooltip:"Throws a stone",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:3,interruptible:!0,stamina:3,range:Object(r.d)(3,4)}]}},p={sword:{display:"Sword",tooltip:"All-rounder",effects:[{display:"Slash",tooltip:"Swings at the enemy",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:3,interruptible:!0,stamina:2,range:Object(r.d)(0,1)},{display:"Pommel Hit",tooltip:"Deals a quick blow",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:2,interruptible:!0,stamina:2,range:Object(r.d)(0)},{display:"Overhead Slice",tooltip:"Moves into melee and deals a heavy blow",effects:[Object(c.b)(["Basic:Move",{amount:-1}]),Object(c.b)(["Basic:Attack",{amount:4}])],priority:4,interruptible:!0,stamina:3,range:Object(r.d)(1)}]},greatsword:{display:"Greatsword",tooltip:"Specialized in big damage",effects:[{display:"Rend",tooltip:"Swings at the enemy",effects:[Object(c.b)(["Basic:Attack",{amount:3}])],priority:4,interruptible:!0,stamina:4,range:Object(r.d)(0,1)},{display:"Feint",tooltip:"Quick step backwards",effects:[Object(c.b)(["Basic:Move",{amount:1}])],priority:1,interruptible:!1,stamina:1,range:Object(r.d)(0,1)},{display:"Earth Flattener",tooltip:"Charges a monstruous stunning blow",effects:[Object(c.b)(["Basic:Move",{amount:5}]),Object(c.b)("Effect:Stun")],priority:4,interruptible:!0,stamina:6,range:Object(r.d)(1)}]},twinblades:{display:"Twinblades",tooltip:"Specialized in mobility",effects:[{display:"Swoosh",tooltip:"Deals a strike and moves back",effects:[Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)(["Basic:Move",{amount:1}])],priority:2,interruptible:!0,stamina:2,range:Object(r.d)(0,1)},{display:"Fiuuum",tooltip:"Jump attack",effects:[Object(c.b)(["Basic:Move",{amount:-2}]),Object(c.b)(["Basic:Attack",{amount:3}])],priority:4,interruptible:!0,stamina:3,range:Object(r.d)(2,3)},{display:"SwishSwishSwishSwish",tooltip:"Deals multiple low damage hits",effects:[Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}])],priority:3,interruptible:!0,stamina:4,range:Object(r.d)(0)}]},katana:{display:"Katana",tooltip:"Specialized in bleeding",effects:[{display:"Slice & Dice",tooltip:"Deals two swift strikes",effects:[Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}])],priority:3,interruptible:!0,stamina:2,range:Object(r.d)(0,1)},{display:"Wakizashi",tooltip:"Short sword with a quick attack causing bleeding",effects:[Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Effect:Bleed",{target:"Monster",turns:2}])],priority:2,interruptible:!0,stamina:4,range:Object(r.d)(0,1)},{display:"Unsheathe",tooltip:"Dodges the next attack and deals damage",effects:[Object(c.b)("Effect:Dodge"),Object(c.b)(["Basic:Attack",{amount:3}])],priority:1,interruptible:!0,stamina:4,range:Object(r.d)(0)}]},axe:{display:"Axe",tooltip:"Specialized in debuffs",effects:[{display:"Chop",tooltip:"A slow but reliable attack",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:4,interruptible:!0,stamina:3,range:Object(r.d)(0,1)},{display:"Aim for the head!",tooltip:"Cripples the monster",effects:[Object(c.b)(["Effect:Stat",{target:"Monster",defence:-1}]),Object(c.b)(["Effect:Bleed",{target:"Player",turns:2}])],priority:4,interruptible:!0,stamina:5,range:Object(r.d)(1)},{display:"Target the limbs!",tooltip:"Weakens the monster",effects:[Object(c.b)(["Effect:Stat",{target:"Monster",attack:-1}]),Object(c.b)(["Effect:Bleed",{target:"Player",turns:2}])],priority:4,interruptible:!0,stamina:5,range:Object(r.d)(1)}]},lance:{display:"Lance",tooltip:"Specialized in mid-range attacks",effects:[{display:"Pierce",tooltip:"Pokes the enemy",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:3,interruptible:!0,stamina:2,range:Object(r.d)(0,1,2)},{display:"Charge!!",tooltip:"Runs towards the enemy to deal a massive blow",effects:[Object(c.b)(["Basic:Move",{amount:-5}]),Object(c.b)(["Basic:Attack",{amount:4}])],priority:1,interruptible:!0,stamina:3,range:Object(r.d)(4)}]},hammer:{display:"Hammer",tooltip:"Specialized in stunning",effects:[{display:"Head Banger",tooltip:"Hits the enemy in the head",effects:[Object(c.b)(["Basic:Attack",{amount:2}]),Object(c.b)("Effect:Stun")],priority:4,interruptible:!0,stamina:4,range:Object(r.d)(0)},{display:"Large swing",tooltip:"Uses the inertia of the hammer to safely advance",effects:[Object(c.b)(["Basic:Move",{amount:-3}]),Object(c.b)("Effect:Stun")],priority:3,interruptible:!0,stamina:3,range:Object(r.d)(1,2,3)},{display:"Go for the ankles",tooltip:"Slows down the enemy",effects:[Object(c.b)(["Effect:Stat",{target:"Monster",speed:-1}]),Object(c.b)("Effect:Stun")],priority:4,interruptible:!0,stamina:6,range:Object(r.d)(1)}]},claw:{display:"Finger Claw",tooltip:"Specialized in poison",effects:[{display:"Caress",tooltip:"Applies poison to the monster",effects:[Object(c.b)(["Effect:Poison",{target:"Monster",turns:2}])],priority:3,interruptible:!1,stamina:2,range:Object(r.d)(0)},{display:"Backflip",tooltip:"Dodges an attack and moves backward",effects:[Object(c.b)("Effect:Dodge"),Object(c.b)(["Basic:Move",{amount:2}])],priority:1,interruptible:!1,stamina:4,range:Object(r.d)(0,1)}]},bow:{display:"Bow",tooltip:"Specialized in ranged attacks",effects:[{display:"Relaxed Shot",tooltip:"Shoots an arrow",effects:[Object(c.b)(["Basic:Attack",{amount:2}])],priority:3,interruptible:!0,stamina:2,range:Object(r.d)(3,4)},{display:"Power Draw",tooltip:"Shoots your strongest arrow and makes you weaker",effects:[Object(c.b)(["Basic:Attack",{amount:6}]),Object(c.b)(["Effect:Stat",{target:"Player",attack:-1}])],priority:3,interruptible:!0,stamina:4,range:Object(r.d)(4)}]},staff:{display:"Magic Staff",tooltip:"Specialized in multiple attacks",effects:[{display:"Bolt",tooltip:"Shoots a low damage bolt",effects:[Object(c.b)(["Basic:Attack",{amount:1}])],priority:3,interruptible:!0,stamina:3,range:r.a},{display:"Pew Pew Pew",tooltip:"Shoots a barrage of bolts",effects:[Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}]),Object(c.b)(["Basic:Attack",{amount:1}])],priority:4,interruptible:!0,stamina:8,range:Object(r.d)(2,3,4)}]}},O={debug:{disabled:{display:"None"},enabled:{display:"Debug",effects:[{display:"GGWP",tooltip:"Wins the game",priority:1,interruptible:!1,stamina:0,range:r.a,effects:[Object(c.b)("Debug:GGWP")]},{display:"SUDOKU",tooltip:"Loses the game",priority:1,interruptible:!1,stamina:0,range:r.a,effects:[Object(c.b)("Debug:Sudoku")]}]}},basic:{basic:{display:"Basic",effects:[{display:"Rest",tooltip:"Skip the turn and restore stamina",priority:4,interruptible:!1,stamina:0,range:r.j,effects:[Object(c.b)("Basic:Rest")]},{display:"Advance",tooltip:"Move closer",priority:4,interruptible:!1,stamina:1,range:r.j,effects:[Object(c.b)(["Basic:Move",{amount:-1}])]},{display:"Retreat",tooltip:"Move farther",effects:[Object(c.b)(["Basic:Move",{amount:1}])],priority:4,interruptible:!1,stamina:1,range:r.j}]}},class:u,skill:f,weapon:p,offhand:j,armor:o,headgear:d,footwear:b,charm:s,consumable:l},m=i,h=O;Object(n.b)({build:h,enemies:m})},22:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(11),r=a(17),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Object(n.a)(Array(e).keys());return t>=0&&a.filter((function(e){return e<t})),a},i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.min(Math.max(e,t),a)},o=function(e,t){return t(e)},s=function(e,t){return Object(r.a)(0,e.length,t).map((function(a){return e.slice(a,a+t)})).toArray()}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(1),r=a(5),c={debug:!1,trainingEnemy:[{lore:{name:"\ud83e\udd16 Dummy \ud83e\udd16"},effects:[{display:"Approve of your life choices",tooltip:"You're doing great!",priority:4,effects:[Object(r.b)(["Monster:Attack",{amount:0}])],interruptible:!0,range:[0,1,2,3,4]}],rolls:[[0],[0],[0],[0],[0]]},{hp:{current:300,starting:300,max:300},distance:0,speed:{current:0,starting:0,max:0},attack:{current:0,starting:0,max:0},defence:{current:0,starting:0,max:0},status:{dodge:{active:!1},armor:{amount:0},bleed:{turns:0},stun:{active:!1}}}]},i=function(){return globalThis.__buildmancer},o=function(e){var t,a=globalThis;a.__buildmancer=Object(n.a)(Object(n.a)(Object(n.a)({},c),null!==(t=a.__buildmancer)&&void 0!==t?t:{}),e)};o({})},5:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o}));var n=a(7),r=function(e){return Array.isArray(e)?{index:e[0],parameters:e[1]}:{index:e,parameters:void 0}},c=function(e,t,a){return(0,e[t])(a)},i=function(e){return Object.entries(e).map((function(e){var t=Object(n.a)(e,2);return[t[0],t[1]]}))},o=function(e){return i(e).map((function(e){return e[1]}))}},6:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return b})),a.d(t,"j",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"b",(function(){return f})),a.d(t,"g",(function(){return p})),a.d(t,"c",(function(){return O})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return y})),a.d(t,"i",(function(){return g}));var n=a(1),r=a(11),c=a(21),i=a(42),o=["Lydan","Syrin","Ptorik","Joz","Varog","Gethrod","Hezra","Feron","Ophni","Colborn","Fintis","Gatlin","Jinto","Hagalbar","Krinn","Lenox","Revvyn","Hodus","Dimian","Paskel","Kontas","Weston","Azamarr","Jather","Tekren","Jareth","Adon","Zaden","Eune","Graff","Tez","Jessop","Gunnar","Pike","Domnhar","Baske","Jerrick","Mavrek","Riordan","Wulfe","Straus","Tyvrik","Henndar","Favroe","Whit","Jaris","Renham","Kagran","Lassrin","Vadim","Arlo","Quintis","Vale","Caelan","Yorjan","Khron","Ishmael","Jakrin","Fangar","Roux","Baxar","Hawke","Gatlen","Barak","Nazim","Kadric","Paquin","Kent","Moki","Rankar","Lothe","Ryven","Clawsen","Pakker","Embre","Cassian","Verssek","Dagfinn","Ebraheim","Nesso","Eldermar","Rivik","Rourke","Barton","Hemm","Sarkin","Blaiz","Talon","Agro","Zagaroth","Turrek","Esdel","Lustros","Zenner","Baashar","Dagrod","Gentar","Feston","Syrana","Resha","Varin","Wren","Yuni","Talis","Kessa","Magaltie","Aeris","Desmina","Krynna","Asralyn","Herra","Pret","Kory","Afia","Tessel","Rhiannon","Zara","Jesi","Belen","Rei","Ciscra","Temy","Renalee","Estyn","Maarika","Lynorr","Tiv","Annihya","Semet","Tamrin","Antia","Reslyn","Basak","Vixra","Pekka","Xavia","Beatha","Yarri","Liris","Sonali","Razra","Soko","Maeve","Everen","Yelina","Morwena","Hagar","Palra","Elysa","Sage","Ketra","Lynx","Agama","Thesra","Tezani","Ralia","Esmee","Heron","Naima","Rydna","Sparrow","Baakshi","Ibera","Phlox","Dessa","Braithe","Taewen","Larke","Silene","Phressa","Esther","Anika","Rasy","Harper","Indie","Vita","Drusila","Minha","Surane","Lassona","Merula","Kye","Jonna","Lyla","Zet","Orett","Naphtalia","Turi","Rhays","Shike","Hartie","Beela","Leska","Vemery","Lunex","Fidess","Tisette","Partha"],s=a(36),u=a(5),l=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object(r.a)(new Set(t))},b=l(0,1,2,3,4),d=b,j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e+10};return{current:e,starting:e,max:t(e)}},f={dodge:{active:!1},armor:{amount:0},bleed:{turns:0},stun:{active:!1}},p=function(){return(new i.Chance).pickone(Object(u.d)(c.b))},O=function(){return Object(s.a)().trainingEnemy},m=function(){return o[Math.floor(Math.random()*o.length)]},h=function(e,t){return Object(n.a)({debug:c.a.debug[Object(s.a)().debug?"enabled":"disabled"],basic:e.pickone(Object(u.d)(c.a.basic)),class:e.pickone(Object(u.d)(c.a.class)),skill:e.pickone(Object(u.d)(c.a.skill)),armor:e.pickone(Object(u.d)(c.a.armor)),weapon:e.pickone(Object(u.d)(c.a.weapon)),offhand:e.pickone(Object(u.d)(c.a.offhand)),footwear:e.pickone(Object(u.d)(c.a.footwear)),headgear:e.pickone(Object(u.d)(c.a.headgear)),charm:e.pickone(Object(u.d)(c.a.charm)),consumable:e.pickone(Object(u.d)(c.a.consumable))},t)},y={hp:j(15),stamina:j(6,(function(e){return e})),staminaPerTurn:j(2),speed:j(0),attack:j(0),defence:j(0),status:f},g=function(e,t){var a=new i.Chance;return[{id:a.string(),lore:{name:m(),age:a.age()},build:h(a,t)},Object(n.a)(Object(n.a)({},y),e)]}},85:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return x}));var n=a(1),r=a(93),c=a.n(r),i=a(68),o=a(38),s=a(48),u=a(94),l=a(15),b=e&&"1"===Object({NODE_ENV:"production",PUBLIC_URL:"/buildmancer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SMD;b&&Object(u.inspect)({server:new c.a.Server({port:8888})});var d={on:{MENU:{target:"main"}}},j=Object(n.a)({initial:"play",states:{play:{entry:["reset"],on:{WIN:{target:"win"},LOSE:{target:"lose"}}},win:{type:"final"},lose:{type:"final"}}},d),f=Object(n.a)({initial:"player",states:{player:{entry:["reset"],on:{PLAYER:{target:"encounter"}}},encounter:{on:{ENCOUNTER:{target:"play"}}},play:{on:{WIN:{target:"win"},LOSE:{target:"lose"}}},win:{type:"final"},lose:{type:"final"}}},d),p=Object(n.a)({initial:"player",states:{player:{entry:["reset"],on:{PLAYER:{target:"play"}}},play:{on:{WIN:[{target:"victory",cond:"isFinal"},{target:"play",actions:["bumpVictories","bumpScore"],internal:!0}],LOSE:{target:"defeat"}}},victory:{type:"final"},defeat:{type:"final"}}},d),O=Object(n.a)({initial:"player",states:{player:{entry:["reset"],on:{PLAYER:{target:"play"}}},play:{on:{WIN:{target:"play",actions:["bumpVictories"]},LOSE:{target:"defeat"}}},defeat:{type:"final",on:{}}}},d),m=(Object(n.a)({initial:"puzzle",states:{puzzle:{on:{PLAYER:{target:"player"}}},player:{on:{SELECTED:{target:"play"}}},play:{on:{COMPLETE:{target:"complete"}}},complete:{on:{NEXT:{target:"player"},SELECT:{target:"puzzle"}}}}},d),Object(n.a)({initial:"replay",states:{replay:{on:{REPLAY:{target:"play"}}},play:{on:{WIN:{target:"win"},LOSE:{target:"lose"}}},win:{type:"final"},lose:{type:"final"}}},d)),h=Object(n.a)({initial:"player",states:{player:{entry:["reset"],on:{PLAYER:{target:"play"}}},play:{on:{WIN:{target:"win"},LOSE:{target:"lose"}}},win:{type:"final"},lose:{type:"final"}}},d),y=function(){return{victories:0,score:0,seed:Math.random()}},g=function(){return{victories:0,seed:Math.random()}},v=function(){return{seed:Math.random()}},x=Object(i.b)({tsTypes:{},id:"menus",initial:"main",context:{arcadeContext:y(),survivalContext:g(),singleContext:v()},states:{main:{on:{QUICK:{target:"quick"},SINGLE:{target:"single"},TRAINING:{target:"training"},ARCADE:{target:"arcade"},SURVIVAL:{target:"survival"},REPLAY:{target:"replay"}}},quick:Object(n.a)({},j),single:Object(n.a)({},f),arcade:Object(n.a)({},p),survival:Object(n.a)({},O),replay:Object(n.a)({},m),training:Object(n.a)({},h)}},{guards:{isFinal:function(e){return e.arcadeContext.victories+1>=7}},actions:{bumpVictories:Object(o.assign)({arcadeContext:function(e,t){var a=e.arcadeContext;return Object(n.a)(Object(n.a)({},a),{},{victories:a.victories+1,seed:Math.random()})},survivalContext:function(e,t){var a=e.survivalContext;return Object(n.a)(Object(n.a)({},a),{},{victories:a.victories+1,seed:Math.random()})}}),bumpScore:Object(o.assign)({arcadeContext:function(e,t){var a=e.arcadeContext,r=t.game;return Object(n.a)(Object(n.a)({},a),{},{score:a.score+Object(l.j)(r),seed:Math.random()})}}),reset:Object(o.assign)({survivalContext:function(e,t){return g()},arcadeContext:function(e,t){return y()},singleContext:function(e,t){return v()}})}});b&&Object(s.c)(x,{devTools:!0}).onTransition((function(e){return console.log(e)})).start()}).call(this,a(82))},98:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return r}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(t){if(e&&"serviceWorker"in navigator){if(new URL("/buildmancer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/buildmancer","/service-worker.js");n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):c(e,t)}))}}function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}}).call(this,a(82))}},[[125,1,2]]]);
//# sourceMappingURL=main.49a301b6.chunk.js.map